VERSION=0.78
CC=gcc
CFLAGS=-Ofast -flto -Wall -fPIC
mkpvmosmesh: mesh2d.o utils.o list.o main.h diode.o phototransistor.o
	mkoctfile -v  mkpvmosmesh.cc mesh2d.o utils.o list.o diode.o phototransistor.o
utils.o: utils.c mesh2d.h utils.h
	$(CC) $(CFLAGS)   -c -o utils.o -DVERSION=\"$(VERSION)\" utils.c
mesh2d.o: mesh2d.h mesh2d.c utils.h
list.o: list.c utils.h
diode.o: diode.c diode.h
phototransistor.o: phototransistor.c phototransistor.h
